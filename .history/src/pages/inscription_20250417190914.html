<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="../css/output.css" rel="stylesheet" />
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="../css/style.css" />
    <title>Inscription</title>
  </head>
  <body>
    <div
      class="flex h-screen w-screen items-center justify-center bg-gray-100 px-24"
    >
      <main
        class="mx-auto flex rounded-xl border border-gray-300 bg-white shadow-lg shadow-gray-400"
      >
        <img
          src="../../public/imgs/salleInterieur.jpeg"
          class="h-full w-1/2 rounded-s-lg object-cover"
          alt="Image salle"
        />

        <form
          action="../php/inscription.php"
          method="post"
          class="flex w-1/2 flex-col gap-4 px-8 pt-8"
        >
          <h1 class="text-4xl font-bold">Inscription</h1>

          <!-- üî• Inputs Area -->
          <div class="grid w-full grid-cols-2 gap-4">
            <!-- Nom -->
            <div>
              <label for="nom">Nom :</label>
              <input
                class="input-style"
                type="text"
                name="nom"
                id="nom"
                placeholder="Nom"
                pattern="[a-zA-Z ]{3,30}"
                required
              />
            </div>

            <!-- Pr√©nom -->
            <div>
              <label for="prenom">Pr√©nom :</label>
              <input
                type="text"
                class="input-style"
                name="prenom"
                placeholder="Pr√©nom"
                pattern="[a-zA-Z ]{3,30}"
                id="prenom"
                required
              />
            </div>

            <!-- Email -->
            <div>
              <label for="email">Email :</label>
              <input
                type="email"
                class="input-style"
                name="email"
                placeholder="Email"
                id="email"
                pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"
                required
              />
            </div>

            <!-- Date de naissance -->
            <div>
              <label for="date_naissance">Date de naissance :</label>
              <input
                type="date"
                class="input-style"
                name="date_naissance"
                id="date_naissance"
                required
              />
            </div>

            <!-- Mot de passe -->
            <div>
              <label for="pass">Mot de passe :</label>
              <input
                class="input-style"
                type="password"
                name="motdepasse"
                id="pass"
                placeholder="Mot de passe"
                pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,20}$"
                required
              />
            </div>

            <!-- Confirmation mot de passe -->
            <div>
              <label for="confPass">Confirmer le mot de passe :</label>
              <input
                type="password"
                class="input-style"
                placeholder="Confirmer le mot de passe"
                pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,20}$"
                id="confPass"
                required
              />
            </div>
          </div>

          <!-- ü§ì Tips -->
          <span class="text-sm text-gray-500">
            <li>
              Le mot de passe doit contenir entre 8 et 20 caract√®res, avec au
              moins une majuscule, une minuscule et un chiffre.
            </li>
          </span>

          <!-- ‚ùå Password error -->
          <span class="text-sm text-red-500" id="passwordError">
            Les mots de passe ne correspondent pas.
          </span>

          <!-- üëä Bouton -->
          <button
            type="submit"
            class="mt-2 ml-auto rounded bg-gray-700 px-4 py-2 text-white hover:bg-gray-800"
          >
            S'inscrire
          </button>
        </form>
      </main>
    </div>

    <!-- üß† JS: Validation passwords match -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const form = document.querySelector("form");
        const passInput = document.getElementById("pass");
        const confPassInput = document.getElementById("confPass");
        const errorSpan = document.getElementById("passwordError");

        errorSpan.style.display = "none";

        form.addEventListener("submit", (e) => {
          if (passInput.value !== confPassInput.value) {
            e.preventDefault();
            errorSpan.style.display = "inline";
          } else {
            errorSpan.style.display = "none";
          }
        });
      });
    </script>

    <script src="../js/style.js"></script>
  </body>
</html>
